<md-toolbar class='header' color="primary">

  <span class='app-heading'>Reddit Playlist Generator</span>

<md-progress-bar *ngIf='showProgressBar' color='accent' class="app-progress" mode="indeterminate"></md-progress-bar>
<span class="app-toolbar-filler"></span>
<a md-button color='warn' *ngIf="!isSpotifyAuthenticated" href='/auth/spotify'>Login to Spotify</a>
<div *ngIf="spotifyUser" class='spotify-logged-in-status'>Welcome {{ spotifyUser.display_name }}</div>
<img class='spotify-image' *ngIf="spotifyUser" height='40px' width='40px' src='{{spotifyUser.images[0]?.url}}'/>
</md-toolbar>


<div layout='row' layout-fill layout-margin layout-align='start center'>
  <label class='select-label'>Select Subreddit</label>
  <md-select class='subreddit-select' [(ngModel)]="subReddit" (ngModelChange)="onChange($event)">
    <md-option *ngFor="let sub of subRedditList"
      [selected]="sub == subReddit" [value]="sub">
     {{ sub }}
    </md-option>
  </md-select>
</div>

<button md-raised-button class='create-playlist' color="primary"  *ngIf='songs.length' (click)='createPlaylist()' >Create Playlist</button>

<br>

<md-card>
  <md-tab-group [selectedIndex]="0">
    <md-tab label="Summary">
      <h3>Summary Info</h3>
      <span>Nothing to see here yet</span>
    </md-tab>
    <md-tab label="Reddit Details">
      <h3>Reddit Post Details</h3>
      <div *ngIf='posts'>
        <md-list class='list'>
          <md-list-item class='list-item' *ngFor="let post of posts">{{post}}</md-list-item>
        </md-list>
      </div>
    </md-tab>
    <md-tab label="Spotify Details">
      <h3>Spotify Details</h3>
      <div *ngIf='songs.length'>
        <md-list class='list'>
          <md-list-item class='list-item' *ngFor="let song of songs"><a href={{song.external_urls.spotify}}>{{song.artists[0].name}} - {{song.name}} - {{song.album.name}}</a></md-list-item>
        </md-list>
      </div>
    </md-tab>
  </md-tab-group>
</md-card>
